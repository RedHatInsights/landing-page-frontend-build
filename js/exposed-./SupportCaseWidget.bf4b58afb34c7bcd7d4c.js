(self.webpackChunklanding=self.webpackChunklanding||[]).push([[3623],{55140:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(54025),l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},l.apply(this,arguments)};const r=function(e){var t,a=(0,n.useScalprum)(),r=(null===(t=a.api)||void 0===t?void 0:t.chrome)||{};return r=l(l({},r),{initialized:a.initialized}),"function"==typeof e?e(r):r}},27627:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var n=a(28416),l=a.n(n),r=a(5697),c=a(75863),i=a(51630),s=a(4576),m=a(64084),o=a(75521),h=a(63627),p=a(99058),u=a(42910),d=a(76026),f=a(1579),g=a(44282),E=a.n(g),y=a(56696),v=a.n(y),w=a(55140),b=a(65353),x=a(78632),S=a(38296);const T=e=>{var{children:t,className:a}=e,l=(0,b.__rest)(e,["children","className"]);return n.createElement("caption",Object.assign({className:(0,S.i)(x.Z.tableCaption,a)},l),t)};T.displayName="Caption",a(53336);const k={circle:"pf-m-circle",square:"pf-m-square",widthSm:"pf-m-width-sm",widthMd:"pf-m-width-md",widthLg:"pf-m-width-lg",width_25:"pf-m-width-25",width_33:"pf-m-width-33",width_50:"pf-m-width-50",width_66:"pf-m-width-66",width_75:"pf-m-width-75",heightSm:"pf-m-height-sm",heightMd:"pf-m-height-md",heightLg:"pf-m-height-lg",height_25:"pf-m-height-25",height_33:"pf-m-height-33",height_50:"pf-m-height-50",height_66:"pf-m-height-66",height_75:"pf-m-height-75",height_100:"pf-m-height-100",text_4xl:"pf-m-text-4xl",text_3xl:"pf-m-text-3xl",text_2xl:"pf-m-text-2xl",textXl:"pf-m-text-xl",textLg:"pf-m-text-lg",textMd:"pf-m-text-md",textSm:"pf-m-text-sm"},_=e=>{var{className:t,width:a,height:l,fontSize:r,shape:c,screenreaderText:i}=e,s=(0,b.__rest)(e,["className","width","height","fontSize","shape","screenreaderText"]);const m=r?Object.values(k).find((e=>e===`pf-m-text-${r}`)):void 0;return n.createElement("div",Object.assign({},s,{className:(0,S.i)("pf-v5-c-skeleton",r&&m,"circle"===c&&k.circle,"square"===c&&k.square,t)},(a||l)&&{style:Object.assign({"--pf-v5-c-skeleton--Width":a||void 0,"--pf-v5-c-skeleton--Height":l||void 0},s.style)}),n.createElement("span",{className:"pf-v5-screen-reader"},i))};function N(e){return Array.isArray(e.columns)}_.displayName="Skeleton";const L=e=>{const{variant:t,rows:a=5,caption:n}=e,c=N(e)?e.columns.length:e.numberOfColumns,p=[...new Array(c)],u=[...new Array(a)].map(((e,t)=>l().createElement(s.Tr,{key:t},p.map(((e,t)=>l().createElement(h.Td,{key:t},l().createElement(_,null)))))));return l().createElement(r.i,{"aria-label":"Loading",variant:t},n&&l().createElement(T,null,n),l().createElement(i.h,null,l().createElement(s.Tr,null,N(e)?e.columns.map(((e,t)=>l().createElement(m.Th,{key:t},e))):p.map(((e,t)=>l().createElement(m.Th,{key:t},l().createElement(_,null)))))),l().createElement(o.p,null,u))};var O=a(75522);const j="Case ID",C="Issue summary",B="Modified by",z="Severity",A="Status",I="https://access.redhat.com/support/cases/#/case/new/get-support?caseCreate=true",M=()=>{const[e,t]=(0,n.useState)([]),a=(0,w.Z)(),[g,y]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{y(!0),(async()=>{const e=await a.auth.getToken(),n=await a.auth.getUser(),l={method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({createdBySSOName:`${n?.identity.user?.username}`})};try{const e=await fetch((r=a.getEnvironment(),`https://api.access${"stage"===r||"frhStage"===r?".stage":""}.redhat.com/support/v1/cases/filter`),l),{cases:n}=await e.json();t(n),y(!1)}catch(e){console.error("Unable to fetch support cases",e)}var r})()}),[]),l().createElement(l().Fragment,null,g?l().createElement(L,{rows:3,columns:[j,C,B,z,A]}):0===e.length?l().createElement(u.EmptyState,{variant:u.EmptyStateVariant.lg},l().createElement(u.EmptyStateIcon,{icon:v()}),l().createElement(f.Title,{headingLevel:"h4",size:"lg"},"No open support cases"),l().createElement(u.EmptyStateBody,null,l().createElement(d.Stack,null,l().createElement(d.StackItem,null,"We can't find any active support cases opened by you."))),l().createElement(p.Button,{variant:"link",icon:l().createElement(E(),null),iconPosition:"end",href:I,onClick:()=>{window.open(I,"_blank")}},"Open a support case")):l().createElement(r.i,{"aria-label":"Support case table widget",variant:c.B.compact},l().createElement(i.h,null,l().createElement(s.Tr,null,l().createElement(m.Th,null,j),l().createElement(m.Th,null,C),l().createElement(m.Th,null,B),l().createElement(m.Th,null,z),l().createElement(m.Th,null,A))),l().createElement(o.p,null,e?.slice(0,5).map((e=>{return l().createElement(s.Tr,{key:e.id},l().createElement(h.Td,{dataLabel:j},l().createElement(p.Button,{className:"pf-v5-u-pl-0",variant:"link",icon:l().createElement(E(),null),iconPosition:"end",component:"a",href:`https://access.redhat.com/support/cases/#/case/${e.caseNumber}`},e.caseNumber)),l().createElement(h.Td,{dataLabel:C},e.summary),l().createElement(h.Td,{dataLabel:B},e.lastModifiedById),l().createElement(h.Td,{dataLabel:z},(t=e.severity,{"1 (Urgent)":l().createElement(O.Label,{color:"red"},t),"2 (High)":l().createElement(O.Label,{color:"orange"},t),"3 (Normal)":l().createElement(O.Label,{color:"blue"},t),"4 (Low)":l().createElement(O.Label,{color:"grey"},t)}[t]??"")),l().createElement(h.Td,{dataLabel:A},e.status));var t})))))}},11452:()=>{},58392:()=>{},34946:()=>{},32857:()=>{},28992:()=>{},30187:()=>{},21626:()=>{},8572:()=>{},98379:()=>{},91993:()=>{},53336:()=>{},66822:()=>{},54994:()=>{},44690:()=>{},37494:()=>{},67761:()=>{},49854:()=>{},74543:()=>{}}]);
//# sourceMappingURL=../../sourcemaps/exposed-./SupportCaseWidget.472e9f32448e907dac96bfba4e867c96.js.map