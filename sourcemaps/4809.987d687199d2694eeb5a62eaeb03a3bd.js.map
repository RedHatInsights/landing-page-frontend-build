{"version":3,"file":"js/4809.a112311a6522b5ba55e5.js","mappings":"uTAiBA,SAhBoB,IAAAA,eAAc,CAC9BC,OAAQ,WAAgC,EACxCC,eAAgB,WAAgC,EAChDC,iBAAkB,WAAgC,EAClDC,UAAW,WAAc,OAAOC,OAAO,EAAI,EAC3CC,YAAa,WAAgC,EAC7CC,YAAa,WAAgC,EAC7CC,kBAAmB,WAAgC,EACnDC,SAAU,WAAc,MAAO,CAC3BC,iBAAkB,GAClBC,cAAe,CAAC,EAChBC,cAAe,GACfC,eAAgB,CAAC,EACjBC,aAAa,EACb,ICfR,IAWWC,EAXPC,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOH,EAASa,MAAMC,KAAMP,UAChC,GAEA,SAAWR,GACPA,EAA0B,YAAI,cAC9BA,EAA4B,cAAI,gBAChCA,EAA6B,eAAI,gBACpC,CAJD,CAIGA,IAAiBA,EAAe,CAAC,IChBpC,IAAI,EAAsC,WAStC,OARA,EAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACO,EAASU,MAAMC,KAAMP,UAChC,EACIQ,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIM,EAA4C,SAAUhB,EAASiB,GAC/D,IAAsGC,EAAGC,EAAGhC,EAAGiC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGqC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXrD,SAA0B+C,EAAE/C,OAAOsD,UAAY,WAAa,OAAO7B,IAAM,GAAIsB,EACvJ,SAASM,EAAKpC,GAAK,OAAO,SAAUsC,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOV,IAAMA,EAAI,EAAGS,EAAG,KAAOR,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMhC,EAAY,EAAR0C,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOhC,EAAIgC,EAAU,SAAMhC,EAAES,KAAKuB,GAAI,GAAKA,EAAET,SAAWvB,EAAIA,EAAES,KAAKuB,EAAGU,EAAG,KAAKf,KAAM,OAAO3B,EAE3J,OADIgC,EAAI,EAAGhC,IAAG0C,EAAK,CAAS,EAARA,EAAG,GAAQ1C,EAAEqB,QACzBqB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1C,EAAI0C,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEd,MAAOqB,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,MAAkB5C,GAAZA,EAAIkC,EAAEG,MAAYhC,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVqC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVQ,EAAG,MAAc1C,GAAM0C,EAAG,GAAK1C,EAAE,IAAM0C,EAAG,GAAK1C,EAAE,IAAM,CAAEkC,EAAEC,MAAQO,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIA,EAAI0C,EAAI,KAAO,CACpE,GAAI1C,GAAKkC,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIkC,EAAEI,IAAIO,KAAKH,GAAK,KAAO,CAC9D1C,EAAE,IAAIkC,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKrB,KAAKI,EAASqB,EAC5B,CAAE,MAAOV,GAAKkB,EAAK,CAAC,EAAGlB,GAAIQ,EAAI,CAAG,CAAE,QAAUD,EAAI/B,EAAI,CAAG,CACzD,GAAY,EAAR0C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAErB,MAAOqB,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,EAC9E,CAtBgDL,CAAK,CAACnB,EAAGsC,GAAK,CAAG,CAuBrE,EACWK,EAAW,yBACXC,EAAmB,GAAGC,OAAOF,EAAU,iBACvCG,EAAoB,GAAGD,OAAOF,EAAU,mBACxCI,EAAe,GAAGF,OAAOF,EAAU,SACnCK,EAAsB,GAAGH,OAAOF,EAAU,yBACrD,SAASM,EAAaC,EAAKC,GACvB,IAAIC,EAAQ5C,KACZ,OAAO6C,MAAMH,EAAKC,GAAS1B,MAAK,SAAU6B,GAAO,OAAO7C,EAAU2C,OAAO,OAAQ,GAAQ,WACrF,IAAIG,EAAsBC,EACtBC,EACJ,OAAO/B,EAAYlB,MAAM,SAAUkD,GAC/B,OAAQA,EAAG1B,OACP,KAAK,EACD,OAAMsB,EAAIK,GAAW,CAAC,EAAG,IACzBJ,EAAQD,EAAIC,SAC0C,QAA5CE,EAAKF,EAAMK,QAAQC,IAAI,uBAAoC,IAAPJ,OAAgB,EAASA,EAAGK,SAAS,qBAE5F,CAAC,EAAGP,EAAMQ,QADG,CAAC,EAAG,IAE5B,KAAK,EAED,OADAP,EAAKE,EAAGzB,OACD,CAAC,EAAG,GACf,KAAK,EAAG,MAAO,CAAC,EAAGsB,EAAMS,QACzB,KAAK,EACDR,EAAKE,EAAGzB,OACRyB,EAAG1B,MAAQ,EACf,KAAK,EAED,MADQwB,EAEZ,KAAK,EAAG,MAAO,CAAC,EAAGF,EAAIS,QAE/B,GACJ,GAAI,GACR,CAOO,SAASE,EAAKf,EAAKgB,EAAMf,GAC5B,OAAOF,EAAaC,EAAK,EAAS,EAAS,CAAEiB,YAAa,WAAahB,GAAU,CAAES,QAAS,EAAS,EAAS,CAAC,EAAGT,aAAyC,EAASA,EAAQS,SAAU,CAAE,eAAgB,qBAAuBQ,OAAQ,OAAQzC,KAAM0C,KAAKC,UAAUJ,MAAUzC,MAAK,SAAU+B,GAEzR,OADWA,EAAGU,IAElB,GACJ,CC3FA,IAkHIK,GArEoB,KAAS,SAAUC,EAAUC,EAAOC,GAAU,OA7ChBhE,OA6CiC,EA7CxBC,OA6CgC,EA7CjBE,EA6CiC,WAE3G,OAtC4C,SAAUH,EAASiB,GAC/D,IAAsGC,EAAGC,EAAGhC,EAAGiC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGqC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXrD,SAA0B+C,EAAE/C,OAAOsD,UAAY,WAAa,OAAO7B,IAAM,GAAIsB,EACvJ,SAASM,EAAKpC,GAAK,OAAO,SAAUsC,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOV,IAAMA,EAAI,EAAGS,EAAG,KAAOR,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMhC,EAAY,EAAR0C,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOhC,EAAIgC,EAAU,SAAMhC,EAAES,KAAKuB,GAAI,GAAKA,EAAET,SAAWvB,EAAIA,EAAES,KAAKuB,EAAGU,EAAG,KAAKf,KAAM,OAAO3B,EAE3J,OADIgC,EAAI,EAAGhC,IAAG0C,EAAK,CAAS,EAARA,EAAG,GAAQ1C,EAAEqB,QACzBqB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1C,EAAI0C,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEd,MAAOqB,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,MAAkB5C,GAAZA,EAAIkC,EAAEG,MAAYhC,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVqC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVQ,EAAG,MAAc1C,GAAM0C,EAAG,GAAK1C,EAAE,IAAM0C,EAAG,GAAK1C,EAAE,IAAM,CAAEkC,EAAEC,MAAQO,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIA,EAAI0C,EAAI,KAAO,CACpE,GAAI1C,GAAKkC,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIkC,EAAEI,IAAIO,KAAKH,GAAK,KAAO,CAC9D1C,EAAE,IAAIkC,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKrB,KAAKI,EAASqB,EAC5B,CAAE,MAAOV,GAAKkB,EAAK,CAAC,EAAGlB,GAAIQ,EAAI,CAAG,CAAE,QAAUD,EAAI/B,EAAI,CAAG,CACzD,GAAY,EAAR0C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAErB,MAAOqB,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,EAC9E,CAtBgDL,CAAK,CAACnB,EAAGsC,GAAK,CAAG,CAuBrE,CAYW,CAAY9B,MAAM,SAAUgD,GAC/B,OAAQA,EAAGxB,OACP,KAAK,EAAG,MAAO,CAAC,EAAGiC,EAAKrB,EAAkB,CAClC4B,SAAUA,EACVC,MAAOA,EACPC,OAAQA,KAEhB,KAAK,EAED,MAAO,CAAC,EADDlB,EAAGvB,QAGtB,GACJ,EAzDW,KAFgErB,OA6C4B,KA3CjFA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKS,OAClE,IAPwC,IAAUV,EAASC,EAAYC,EAAGC,CA2D1E,GAAG,KAuDiB,sBAmFxB,QA9BqB,SAAU2C,GAC3B,IAAImB,EAAWnB,EAAGmB,SACdC,GAAY,IAAAC,SAAO,GACnBpB,GAAK,IAAAqB,WAAS,GAAQC,EAAiBtB,EAAG,GAAIuB,EAAoBvB,EAAG,GACrEwB,GAAgB,IAAAJ,UAwBpB,OAvBKI,EAAcC,UACfD,EAAcC,QF5JJ,WACd,IAAIC,EAAQ,CACR/F,iBAAkB,GAClBE,cAAe,GACfC,eAAgB,CAAC,EACjBC,aAAa,GAEbH,EAAgB,CAChB+F,YAAa,IAAIC,IACjB/F,cAAe,IAAI+F,IACnB9F,eAAgB,IAAI8F,KAgBxB,SAAS1G,EAAO2G,EAAOC,GACnBJ,EAAQzF,EAASA,EAAS,CAAC,EAAGyF,GAAQI,GACtC,IAAIC,EAAsBnG,EAAciG,GACP,IAA7BE,EAAoBC,MAGxBC,MAAMC,KAAKH,EAAoBI,UAAUC,SAAQ,SAAUC,GACvDA,EAAWC,UACf,GACJ,CAuBA,MAAO,CACH5G,SAdJ,WACI,OAAOgG,CACX,EAaIvG,eAxBJ,SAAwBoH,GACpBrH,EAAOc,EAAa2F,YAAa,CAAEhG,iBAAkB4G,GACzD,EAuBI/G,YAbJ,SAAqBgH,GACjBd,EAAQzF,EAASA,EAAS,CAAC,EAAGuG,GAAe,CAAEzG,aAAa,IAC5DG,OAAOiG,OAAOvG,GACT6G,OACAL,SAAQ,SAAUP,GACnBI,MAAMC,KAAKL,EAAMM,UAAUC,SAAQ,SAAUM,GACzCA,EAAIJ,UACR,GACJ,GACJ,EAKIlH,iBAvBJ,SAA0BmH,GACtBrH,EAAOc,EAAaH,cAAe,CAAEA,cAAe0G,GACxD,EAsBI9G,kBArBJ,SAA2BK,GACvBZ,EAAOc,EAAaF,eAAgB,CAAEA,eAAgBA,GAC1D,EAoBIT,UApDJ,SAAmBwG,EAAOS,GACtB,IAAIK,EAAKrH,OAAOuG,GAGhB,OAFAjG,EAAciG,GAAOe,IAAID,EAAI,CAAEL,SAAUA,IACzCA,IACOK,CACX,EAgDIpH,YA/CJ,SAAqBoH,EAAId,GACjBjG,EAAciG,GAAOgB,IAAIF,GACzB/G,EAAciG,GAAOiB,OAAOH,GAG5BI,QAAQC,MAAM,6CAEtB,EAyCI9H,OAAQA,EAEhB,CEwFgC,IA1DC,SAAUsG,GACvC,IAAIT,GAAW,IAAAkC,eAAclC,SACzBmC,GAAW,IAAAC,eACXC,EAAcC,SAASC,cAAc,UACzC,IAAAC,YAAU,WACN,IAAIxD,EACAyD,EACAC,EAEJ,GADkBC,aAAaC,QAAQ7C,GAEnC,IACI,IAAI8C,EAAgBhD,KAAKiD,MAAyD,QAAlD9D,EAAK2D,aAAaC,QAAQ7C,UAAuC,IAAPf,EAAgBA,EAAK,MAC1GkC,MAAM6B,QAAQF,GAKfpC,EAAcrG,eAAeyI,IAJ7BF,aAAaK,QAAQjD,EAAmBF,KAAKC,UAAU,KACvDW,EAAcrG,eAAe,IAKrC,CACA,MAAO6H,GACHD,QAAQC,MAAM,wDAAyDA,GACvExB,EAAcrG,eAAe,IAC7BuI,aAAaK,QAAQjD,EAAmBF,KAAKC,UAAU,IAC3D,CAuBJ,OArBIuC,IACAI,EAAgB,IAAIQ,kBAAiB,SAAUC,GAC3C,IAAIlE,EAAIC,EACJkE,EAAuC,QAAvBnE,EAAKkE,EAAU,UAAuB,IAAPlE,OAAgB,EAASA,EAAGoE,OAAOC,YACtF,GAA4B,iBAAjBF,GAA6BA,IAAiBT,EACrD,IACIA,EAAYS,EACZ,IAAIG,EAAY7C,EAAc9F,WAAWC,iBAAiB2I,QAAO,SAAUC,GAAQ,OAAOA,EAAKxD,WAAaA,CAAU,IACtHsD,EAAUG,QAAQ,CAAEzD,SAAUA,EAAUC,MAAOkD,EAAcjD,OAAgC,QAAvBjB,EAAKkD,EAASuB,WAAwB,IAAPzE,OAAgB,EAASA,EAAG0E,OAAOC,gBAAgBC,cACxJpD,EAAcrG,eAAekJ,EAAUQ,MAAM,EAAG,KAChDnB,aAAaK,QAAQjD,EAAmBF,KAAKC,UAAUwD,EAAUQ,MAAM,EAAG,KAC9E,CACA,MAAO7B,GACHD,QAAQC,MAAM,uCAAwCA,EAC1D,CAER,IACAQ,EAAcsB,QAAQ1B,EAAa,CAC/B2B,WAAW,KAGZ,WACHvB,SAA8DA,EAAcwB,YAChF,CACJ,GAAG,CAACjE,GACR,CASIkE,CAA2BzD,EAAcC,UACzC,IAAA8B,YAAU,WAeN,OAdApC,EAAUM,SAAU,EACfH,GDjGF9B,ECrCoCF,EDqClB,EAAS,EAAS,CAAC,OADvBI,GACoC,CAAEiB,OAAQ,SAAU3C,MAAK,SAAU+B,GAExF,OADWA,EAAGU,IAElB,ICgGazC,MAAK,SAAUkH,GAChB,IAAInF,EACAoB,EAAUM,UACuB,QAAhC1B,EAAKyB,EAAcC,eAA4B,IAAP1B,GAAyBA,EAAGvE,YAAY0J,GACjF3D,GAAkB,GAE1B,IACK4D,OAAM,SAAUnC,GACjBD,QAAQC,MAAM,uCAAwCA,EAC1D,IAEG,WACH7B,EAAUM,SAAU,CACxB,CACJ,GAAG,KACI,SAAK,EAAc2D,SAAU,CAAE3H,MAAO+D,EAAcC,QAASP,SAAUA,GAClF,ECtLA,EAXqB,WACjB,IAAInB,GAAK,IAAAsF,YAAW,GAAgBhK,EAAY0E,EAAG1E,UAAWE,EAAcwE,EAAGxE,YAAaG,EAAWqE,EAAGrE,SAC1C4J,GAAvD,IAAAC,aAAW,SAAUC,GAAS,OAAOA,EAAQ,CAAG,GAAG,GAAqB,GAOjF,OANA,IAAAjC,YAAU,WACN,IAAIkC,EAASpK,EAAUW,EAAa2F,YAAa2D,GACjD,OAAO,WACH/J,EAAYkK,EAAQzJ,EAAa2F,YACrC,CACJ,GAAG,IACIjG,IAAWC,gBACtB,ECbA,IAAI,EAAwC,SAAUsB,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKS,OAClE,GACJ,EACI,EAA4C,SAAUV,EAASiB,GAC/D,IAAsGC,EAAGC,EAAGhC,EAAGiC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGqC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXrD,SAA0B+C,EAAE/C,OAAOsD,UAAY,WAAa,OAAO7B,IAAM,GAAIsB,EACvJ,SAASM,EAAKpC,GAAK,OAAO,SAAUsC,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOV,IAAMA,EAAI,EAAGS,EAAG,KAAOR,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMhC,EAAY,EAAR0C,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOhC,EAAIgC,EAAU,SAAMhC,EAAES,KAAKuB,GAAI,GAAKA,EAAET,SAAWvB,EAAIA,EAAES,KAAKuB,EAAGU,EAAG,KAAKf,KAAM,OAAO3B,EAE3J,OADIgC,EAAI,EAAGhC,IAAG0C,EAAK,CAAS,EAARA,EAAG,GAAQ1C,EAAEqB,QACzBqB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1C,EAAI0C,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEd,MAAOqB,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,MAAkB5C,GAAZA,EAAIkC,EAAEG,MAAYhC,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVqC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVQ,EAAG,MAAc1C,GAAM0C,EAAG,GAAK1C,EAAE,IAAM0C,EAAG,GAAK1C,EAAE,IAAM,CAAEkC,EAAEC,MAAQO,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIA,EAAI0C,EAAI,KAAO,CACpE,GAAI1C,GAAKkC,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIkC,EAAEI,IAAIO,KAAKH,GAAK,KAAO,CAC9D1C,EAAE,IAAIkC,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKrB,KAAKI,EAASqB,EAC5B,CAAE,MAAOV,GAAKkB,EAAK,CAAC,EAAGlB,GAAIQ,EAAI,CAAG,CAAE,QAAUD,EAAI/B,EAAI,CAAG,CACzD,GAAY,EAAR0C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAErB,MAAOqB,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,EAC9E,CAtBgDL,CAAK,CAACnB,EAAGsC,GAAK,CAAG,CAuBrE,EACI6G,EAAgD,SAAUC,EAAIzD,EAAM0D,GACpE,GAAIA,GAA6B,IAArBpJ,UAAUC,OAAc,IAAK,IAA4BoJ,EAAxBvJ,EAAI,EAAGwJ,EAAI5D,EAAKzF,OAAYH,EAAIwJ,EAAGxJ,KACxEuJ,GAAQvJ,KAAK4F,IACR2D,IAAIA,EAAK5D,MAAMtF,UAAUkI,MAAMhI,KAAKqF,EAAM,EAAG5F,IAClDuJ,EAAGvJ,GAAK4F,EAAK5F,IAGrB,OAAOqJ,EAAGvG,OAAOyG,GAAM5D,MAAMtF,UAAUkI,MAAMhI,KAAKqF,GACtD,EAKA,SAAS6D,EAAmBhF,EAAUiF,GAClC,OAAOxF,EAAKnB,EAAmB,CAC3B0B,SAAUA,EACViF,SAAUA,GAElB,CAgDA,QA/CuB,WACnB,IAAIjG,GAAK,IAAAsF,YAAW,GAAgBhK,EAAY0E,EAAG1E,UAAWE,EAAcwE,EAAGxE,YAAaG,EAAWqE,EAAGrE,SAAUN,EAAmB2E,EAAG3E,iBAC1EkK,GAAvD,IAAAC,aAAW,SAAUC,GAAS,OAAOA,EAAQ,CAAG,GAAG,GAAqB,GACjF,SAASS,EAAsBlF,EAAUiF,GACrC,OAAO,EAAUjJ,UAAM,OAAQ,GAAQ,WACnC,IAAImJ,EAAWC,EAAUC,EACzB,OAAO,EAAYrJ,MAAM,SAAUgD,GAC/B,OAAQA,EAAGxB,OACP,KAAK,EACD2H,EAAYxK,IAAWG,cACvBkE,EAAGxB,MAAQ,EACf,KAAK,EAGD,OAFAwB,EAAGtB,KAAKQ,KAAK,CAAC,EAAG,EAAG,CAAE,IACtB7D,EAAiBsK,EAAcA,EAAc,GAAIQ,GAAW,GAAO,CAAC,CAAEnF,SAAUA,EAAUiF,SAAUA,KAAa,IAC1G,CAAC,EAAGD,EAAmBhF,EAAUiF,IAC5C,KAAK,EAGD,OAFAG,EAAWpG,EAAGvB,OACdpD,EAAiB+K,GACV,CAAC,EAAGA,GACf,KAAK,EAID,OAHAC,EAAUrG,EAAGvB,OACbuE,QAAQC,MAAMoD,GACdhL,EAAiB8K,GACV,CAAC,EAAGA,GACf,KAAK,EAAG,MAAO,CAAC,GAExB,GACJ,GACJ,CAiBA,OANA,IAAA3C,YAAU,WACN,IAAIkC,EAASpK,EAAUW,EAAaH,cAAeyJ,GACnD,OAAO,WACH/J,EAAYkK,EAAQzJ,EAAaH,cACrC,CACJ,GAAG,IACI,CAAEA,cAAeH,IAAWG,cAAewK,aAhBlD,SAAsBtF,GAClB,OAAO,EAAUhE,UAAM,OAAQ,GAAQ,WACnC,OAAO,EAAYA,MAAM,SAAUgD,GAC/B,MAAO,CAAC,EAAGkG,EAAsBlF,GAAU,GAC/C,GACJ,GACJ,EAU8EuF,eAT9E,SAAwBvF,GACpB,OAAOkF,EAAsBlF,GAAU,EAC3C,EAO8GhF,YAAaL,IAAWK,YAC1I,EC7DA,SAASwK,EAAkBtF,GACvB,OAAOT,EAAKjB,EAAqB,CAC7B0B,OAAQA,GAEhB,CA+BA,QA9BwB,WACpB,IAAIlB,GAAK,IAAAsF,YAAW,GAAgBhK,EAAY0E,EAAG1E,UAAWE,EAAcwE,EAAGxE,YAAaG,EAAWqE,EAAGrE,SAAUD,EAAoBsE,EAAGtE,kBAC3E6J,GAAvD,IAAAC,aAAW,SAAUC,GAAS,OAAOA,EAAQ,CAAG,GAAG,GAAqB,GA0BjF,OANA,IAAAjC,YAAU,WACN,IAAIkC,EAASpK,EAAUW,EAAaF,eAAgBwJ,GACpD,OAAO,WACH/J,EAAYkK,EAAQzJ,EAAaF,eACrC,CACJ,GAAG,IACI,CAAEA,eAAgBJ,IAAWI,eAAgB0K,YAzBpD,SAAqBvF,GACjB,IAAIlB,EAjD0C9C,EAASC,EAAYC,EAAGC,EAkDtE,OAlD8CH,EAkD7BF,KAlDsCG,OAkDhC,EAlD+CE,EAkD/B,WACnC,IAAuBqJ,EACvB,OA3CoC,SAAUxJ,EAASiB,GAC/D,IAAsGC,EAAGC,EAAGhC,EAAGiC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGqC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXrD,SAA0B+C,EAAE/C,OAAOsD,UAAY,WAAa,OAAO7B,IAAM,GAAIsB,EACvJ,SAASM,EAAKpC,GAAK,OAAO,SAAUsC,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOV,IAAMA,EAAI,EAAGS,EAAG,KAAOR,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMhC,EAAY,EAAR0C,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOhC,EAAIgC,EAAU,SAAMhC,EAAES,KAAKuB,GAAI,GAAKA,EAAET,SAAWvB,EAAIA,EAAES,KAAKuB,EAAGU,EAAG,KAAKf,KAAM,OAAO3B,EAE3J,OADIgC,EAAI,EAAGhC,IAAG0C,EAAK,CAAS,EAARA,EAAG,GAAQ1C,EAAEqB,QACzBqB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1C,EAAI0C,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEd,MAAOqB,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,MAAkB5C,GAAZA,EAAIkC,EAAEG,MAAYhC,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVqC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVQ,EAAG,MAAc1C,GAAM0C,EAAG,GAAK1C,EAAE,IAAM0C,EAAG,GAAK1C,EAAE,IAAM,CAAEkC,EAAEC,MAAQO,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIA,EAAI0C,EAAI,KAAO,CACpE,GAAI1C,GAAKkC,EAAEC,MAAQnC,EAAE,GAAI,CAAEkC,EAAEC,MAAQnC,EAAE,GAAIkC,EAAEI,IAAIO,KAAKH,GAAK,KAAO,CAC9D1C,EAAE,IAAIkC,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKrB,KAAKI,EAASqB,EAC5B,CAAE,MAAOV,GAAKkB,EAAK,CAAC,EAAGlB,GAAIQ,EAAI,CAAG,CAAE,QAAUD,EAAI/B,EAAI,CAAG,CACzD,GAAY,EAAR0C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAErB,MAAOqB,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,EAC9E,CAtBgDL,CAAK,CAACnB,EAAGsC,GAAK,CAAG,CAuBrE,CAiBmB,CAAY9B,MAAM,SAAUiD,GAC/B,OAAQA,EAAGzB,OACP,KAAK,EAED,OAD2D,QAApCwB,EAAKrE,IAAWI,sBAAmC,IAAPiE,OAAgB,EAASA,EAAGkB,IAChE,CAAC,EAAG,GAC5B,CAAC,EAAGsF,EAAkBtF,IACjC,KAAK,EAGD,OAFAwF,EAAczG,EAAGxB,OACjB/C,EAAkBgL,EAAY3K,gBACvB,CAAC,EAAG2K,EAAY3K,gBAC3B,KAAK,EAAG,MAAO,CAAC,EAAGJ,IAAWI,gBAEtC,GACJ,EA/DG,KAFgEqB,OAkDpC,KAhDjBA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUN,MAAMG,EAASC,GAAc,KAAKS,OAClE,GA2DA,EAO8E5B,YAAaL,IAAWK,YAC1G,C,kBC1EA,IAAI2K,EAAkB,EAAQ,OAG1BC,EAAc,OAelBC,EAAOC,QANP,SAAkBC,GAChB,OAAOA,EACHA,EAAOjC,MAAM,EAAG6B,EAAgBI,GAAU,GAAGC,QAAQJ,EAAa,IAClEG,CACN,C,YCfA,IAAIE,EAAe,KAiBnBJ,EAAOC,QAPP,SAAyBC,GAGvB,IAFA,IAAIG,EAAQH,EAAOrK,OAEZwK,KAAWD,EAAaE,KAAKJ,EAAOK,OAAOF,MAClD,OAAOA,CACT,C,kBChBA,IAAIG,EAAW,EAAQ,OACnBC,EAAM,EAAQ,MACdC,EAAW,EAAQ,OAMnBC,EAAYC,KAAKC,IACjBC,EAAYF,KAAKG,IAqLrBf,EAAOC,QA7HP,SAAkBe,EAAMC,EAAMnI,GAC5B,IAAIoI,EACAC,EACAC,EACAlK,EACAmK,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTC,GAAW,EAEf,GAAmB,mBAARV,EACT,MAAM,IAAI7I,UAzEQ,uBAmFpB,SAASwJ,EAAWC,GAClB,IAAIC,EAAOX,EACP7K,EAAU8K,EAKd,OAHAD,EAAWC,OAAWW,EACtBP,EAAiBK,EACjB1K,EAAS8J,EAAK9K,MAAMG,EAASwL,EAE/B,CAqBA,SAASE,EAAaH,GACpB,IAAII,EAAoBJ,EAAON,EAM/B,YAAyBQ,IAAjBR,GAA+BU,GAAqBf,GACzDe,EAAoB,GAAOP,GANJG,EAAOL,GAM8BH,CACjE,CAEA,SAASa,IACP,IAAIL,EAAOnB,IACX,GAAIsB,EAAaH,GACf,OAAOM,EAAaN,GAGtBP,EAAUc,WAAWF,EA3BvB,SAAuBL,GACrB,IAEIQ,EAAcnB,GAFMW,EAAON,GAI/B,OAAOG,EACHX,EAAUsB,EAAahB,GAJDQ,EAAOL,IAK7Ba,CACN,CAmBqCC,CAAcT,GACnD,CAEA,SAASM,EAAaN,GAKpB,OAJAP,OAAUS,EAINJ,GAAYR,EACPS,EAAWC,IAEpBV,EAAWC,OAAWW,EACf5K,EACT,CAcA,SAASoL,IACP,IAAIV,EAAOnB,IACP8B,EAAaR,EAAaH,GAM9B,GAJAV,EAAWtL,UACXuL,EAAWhL,KACXmL,EAAeM,EAEXW,EAAY,CACd,QAAgBT,IAAZT,EACF,OAzEN,SAAqBO,GAMnB,OAJAL,EAAiBK,EAEjBP,EAAUc,WAAWF,EAAchB,GAE5BO,EAAUG,EAAWC,GAAQ1K,CACtC,CAkEasL,CAAYlB,GAErB,GAAIG,EAIF,OAFAgB,aAAapB,GACbA,EAAUc,WAAWF,EAAchB,GAC5BU,EAAWL,EAEtB,CAIA,YAHgBQ,IAAZT,IACFA,EAAUc,WAAWF,EAAchB,IAE9B/J,CACT,CAGA,OA3GA+J,EAAOP,EAASO,IAAS,EACrBT,EAAS1H,KACX0I,IAAY1I,EAAQ0I,QAEpBJ,GADAK,EAAS,YAAa3I,GACH6H,EAAUD,EAAS5H,EAAQsI,UAAY,EAAGH,GAAQG,EACrEM,EAAW,aAAc5I,IAAYA,EAAQ4I,SAAWA,GAoG1DY,EAAUI,OApCV,gBACkBZ,IAAZT,GACFoB,aAAapB,GAEfE,EAAiB,EACjBL,EAAWI,EAAeH,EAAWE,OAAUS,CACjD,EA+BAQ,EAAUK,MA7BV,WACE,YAAmBb,IAAZT,EAAwBnK,EAASgL,EAAazB,IACvD,EA4BO6B,CACT,C,iBC5LA,IAAIM,EAAO,EAAQ,OAsBnB5C,EAAOC,QAJG,WACR,OAAO2C,EAAKC,KAAKpC,KACnB,C,kBCpBA,IAAIqC,EAAW,EAAQ,OACnBtC,EAAW,EAAQ,OACnBuC,EAAW,EAAQ,OAMnBC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAeC,SA8CnBpD,EAAOC,QArBP,SAAkBpJ,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIkM,EAASlM,GACX,OA1CM,IA4CR,GAAI2J,EAAS3J,GAAQ,CACnB,IAAIwM,EAAgC,mBAAjBxM,EAAMyM,QAAwBzM,EAAMyM,UAAYzM,EACnEA,EAAQ2J,EAAS6C,GAAUA,EAAQ,GAAMA,CAC3C,CACA,GAAoB,iBAATxM,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQiM,EAASjM,GACjB,IAAI0M,EAAWN,EAAW3C,KAAKzJ,GAC/B,OAAQ0M,GAAYL,EAAU5C,KAAKzJ,GAC/BsM,EAAatM,EAAMoH,MAAM,GAAIsF,EAAW,EAAI,GAC3CP,EAAW1C,KAAKzJ,GAvDb,KAuD6BA,CACvC,C","sources":["webpack:///./node_modules/@redhat-cloud-services/chrome/esm/ChromeContext/ChromeContext.js","webpack:///./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/chromeState.js","webpack:///./node_modules/@redhat-cloud-services/chrome/esm/utils/fetch.js","webpack:///./node_modules/@redhat-cloud-services/chrome/esm/ChromeProvider/ChromeProvider.js","webpack:///./node_modules/@redhat-cloud-services/chrome/esm/useLastVisited/useLastVisited.js","webpack:///./node_modules/@redhat-cloud-services/chrome/esm/useFavoritePages/useFavoritePages.js","webpack:///./node_modules/@redhat-cloud-services/chrome/esm/useVisitedBundles/useVisitedBundles.js","webpack:///./node_modules/lodash/_baseTrim.js","webpack:///./node_modules/lodash/_trimmedEndIndex.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/toNumber.js"],"sourcesContent":["import { createContext } from 'react';\nvar ChromeContext = createContext({\n    update: function () { return undefined; },\n    setLastVisited: function () { return undefined; },\n    setFavoritePages: function () { return undefined; },\n    subscribe: function () { return Symbol(0); },\n    unsubscribe: function () { return undefined; },\n    setIdentity: function () { return undefined; },\n    setVisitedBundles: function () { return undefined; },\n    getState: function () { return ({\n        lastVisitedPages: [],\n        subscribtions: {},\n        favoritePages: [],\n        visitedBundles: {},\n        initialized: false,\n    }); },\n});\nexport default ChromeContext;\n//# sourceMappingURL=ChromeContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var UpdateEvents;\n(function (UpdateEvents) {\n    UpdateEvents[\"lastVisited\"] = \"lastVisited\";\n    UpdateEvents[\"favoritePages\"] = \"favoritePages\";\n    UpdateEvents[\"visitedBundles\"] = \"visitedBundles\";\n})(UpdateEvents || (UpdateEvents = {}));\nvar chromeState = function () {\n    var state = {\n        lastVisitedPages: [],\n        favoritePages: [],\n        visitedBundles: {},\n        initialized: false,\n    };\n    var subscribtions = {\n        lastVisited: new Map(),\n        favoritePages: new Map(),\n        visitedBundles: new Map(),\n    };\n    function subscribe(event, onUpdate) {\n        var id = Symbol(event);\n        subscribtions[event].set(id, { onUpdate: onUpdate });\n        onUpdate();\n        return id;\n    }\n    function unsubscribe(id, event) {\n        if (subscribtions[event].has(id)) {\n            subscribtions[event].delete(id);\n        }\n        else {\n            console.error('Trying to unsubscribe non existing client!');\n        }\n    }\n    function update(event, attributes) {\n        state = __assign(__assign({}, state), attributes);\n        var updateSubscriptions = subscribtions[event];\n        if (updateSubscriptions.size === 0) {\n            return;\n        }\n        Array.from(updateSubscriptions.values()).forEach(function (subscriber) {\n            subscriber.onUpdate();\n        });\n    }\n    function setLastVisited(pages) {\n        update(UpdateEvents.lastVisited, { lastVisitedPages: pages });\n    }\n    function setFavoritePages(pages) {\n        update(UpdateEvents.favoritePages, { favoritePages: pages });\n    }\n    function setVisitedBundles(visitedBundles) {\n        update(UpdateEvents.visitedBundles, { visitedBundles: visitedBundles });\n    }\n    function getState() {\n        return state;\n    }\n    function setIdentity(userIdentity) {\n        state = __assign(__assign({}, userIdentity), { initialized: true });\n        Object.values(subscribtions)\n            .flat()\n            .forEach(function (event) {\n            Array.from(event.values()).forEach(function (sub) {\n                sub.onUpdate();\n            });\n        });\n    }\n    return {\n        getState: getState,\n        setLastVisited: setLastVisited,\n        setIdentity: setIdentity,\n        setFavoritePages: setFavoritePages,\n        setVisitedBundles: setVisitedBundles,\n        subscribe: subscribe,\n        unsubscribe: unsubscribe,\n        update: update,\n    };\n};\nexport default chromeState;\n//# sourceMappingURL=chromeState.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexport var API_BASE = '/api/chrome-service/v1';\nexport var LAST_VISITED_URL = \"\".concat(API_BASE, \"/last-visited\");\nexport var FAVORITE_PAGE_URL = \"\".concat(API_BASE, \"/favorite-pages\");\nexport var IDENTITY_URL = \"\".concat(API_BASE, \"/user\");\nexport var VISITED_BUNDLES_URL = \"\".concat(API_BASE, \"/user/visited-bundles\");\nfunction fetchWrapper(url, options) {\n    var _this = this;\n    return fetch(url, options).then(function (res) { return __awaiter(_this, void 0, void 0, function () {\n        var clone, isJson, error, _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!!res.ok) return [3, 5];\n                    clone = res.clone();\n                    isJson = (_b = clone.headers.get('content-type')) === null || _b === void 0 ? void 0 : _b.includes('application/json');\n                    if (!isJson) return [3, 2];\n                    return [4, clone.json()];\n                case 1:\n                    _a = _c.sent();\n                    return [3, 4];\n                case 2: return [4, clone.text()];\n                case 3:\n                    _a = _c.sent();\n                    _c.label = 4;\n                case 4:\n                    error = _a;\n                    throw error;\n                case 5: return [2, res.json()];\n            }\n        });\n    }); });\n}\nexport function get(url, options) {\n    return fetchWrapper(url, __assign(__assign({}, options), { method: 'GET' })).then(function (_a) {\n        var data = _a.data;\n        return data;\n    });\n}\nexport function post(url, data, options) {\n    return fetchWrapper(url, __assign(__assign({ credentials: 'include' }, options), { headers: __assign(__assign({}, options === null || options === void 0 ? void 0 : options.headers), { 'Content-Type': 'application/json' }), method: 'POST', body: JSON.stringify(data) })).then(function (_a) {\n        var data = _a.data;\n        return data;\n    });\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useState } from 'react';\nimport { useScalprum } from '@scalprum/react-core';\nimport { useLocation } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport { ChromeContext } from '../ChromeContext';\nimport chromeState from './chromeState';\nimport { IDENTITY_URL, LAST_VISITED_URL, get, post } from '../utils/fetch';\nvar getUserIdentity = function () { return get(IDENTITY_URL); };\nvar postDataDebounced = debounce(function (pathname, title, bundle) { return __awaiter(void 0, void 0, void 0, function () {\n    var data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, post(LAST_VISITED_URL, {\n                    pathname: pathname,\n                    title: title,\n                    bundle: bundle,\n                })];\n            case 1:\n                data = _a.sent();\n                return [2, data];\n        }\n    });\n}); }, 5000);\nvar useLastPageVisitedUploader = function (providerState) {\n    var scalprum = useScalprum();\n    var pathname = useLocation().pathname;\n    var postData = function (pathname, title, bundle) { return __awaiter(void 0, void 0, void 0, function () {\n        var data, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4, postDataDebounced(pathname, title, bundle)];\n                case 1:\n                    data = _a.sent();\n                    if (data) {\n                        providerState.setLastVisited(data);\n                    }\n                    return [3, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    console.error('Unable to update last visited pages!', error_1);\n                    return [3, 3];\n                case 3: return [2];\n            }\n        });\n    }); };\n    useEffect(function () {\n        var titleObserver;\n        var prevTitle;\n        var titleTarget = document.querySelector('title');\n        if (titleTarget) {\n            prevTitle = titleTarget.textContent;\n            postData(pathname, prevTitle !== null && prevTitle !== void 0 ? prevTitle : '', scalprum.api.chrome.getBundleData().bundleTitle);\n            titleObserver = new MutationObserver(function (mutations) {\n                var _a;\n                var currentTitle = (_a = mutations[0]) === null || _a === void 0 ? void 0 : _a.target.textContent;\n                if (typeof currentTitle === 'string' && currentTitle !== prevTitle) {\n                    try {\n                        prevTitle = currentTitle;\n                        postData(pathname, currentTitle, scalprum.api.chrome.getBundleData().bundleTitle);\n                    }\n                    catch (error) {\n                        console.error('Unable to update last visited pages!', error);\n                    }\n                }\n            });\n            titleObserver.observe(titleTarget, {\n                childList: true,\n            });\n        }\n        return function () {\n            titleObserver === null || titleObserver === void 0 ? void 0 : titleObserver.disconnect();\n            postDataDebounced === null || postDataDebounced === void 0 ? void 0 : postDataDebounced.cancel();\n        };\n    }, [pathname]);\n};\nvar LAST_VISITED_FLAG = 'chrome:lastVisited';\nvar useLastVisitedLocalStorage = function (providerState) {\n    var pathname = useLocation().pathname;\n    var scalprum = useScalprum();\n    var titleTarget = document.querySelector('title');\n    useEffect(function () {\n        var _a;\n        var titleObserver;\n        var prevTitle;\n        var lastVisited = localStorage.getItem(LAST_VISITED_FLAG);\n        if (lastVisited) {\n            try {\n                var lastVisited_1 = JSON.parse((_a = localStorage.getItem(LAST_VISITED_FLAG)) !== null && _a !== void 0 ? _a : '[]');\n                if (!Array.isArray(lastVisited_1)) {\n                    localStorage.setItem(LAST_VISITED_FLAG, JSON.stringify([]));\n                    providerState.setLastVisited([]);\n                }\n                else {\n                    providerState.setLastVisited(lastVisited_1);\n                }\n            }\n            catch (error) {\n                console.error('Unable to parse last visited pages from localStorage!', error);\n                providerState.setLastVisited([]);\n                localStorage.setItem(LAST_VISITED_FLAG, JSON.stringify([]));\n            }\n        }\n        if (titleTarget) {\n            titleObserver = new MutationObserver(function (mutations) {\n                var _a, _b;\n                var currentTitle = (_a = mutations[0]) === null || _a === void 0 ? void 0 : _a.target.textContent;\n                if (typeof currentTitle === 'string' && currentTitle !== prevTitle) {\n                    try {\n                        prevTitle = currentTitle;\n                        var newTitles = providerState.getState().lastVisitedPages.filter(function (item) { return item.pathname !== pathname; });\n                        newTitles.unshift({ pathname: pathname, title: currentTitle, bundle: (_b = scalprum.api) === null || _b === void 0 ? void 0 : _b.chrome.getBundleData().bundleTitle });\n                        providerState.setLastVisited(newTitles.slice(0, 10));\n                        localStorage.setItem(LAST_VISITED_FLAG, JSON.stringify(newTitles.slice(0, 10)));\n                    }\n                    catch (error) {\n                        console.error('Unable to update last visited pages!', error);\n                    }\n                }\n            });\n            titleObserver.observe(titleTarget, {\n                childList: true,\n            });\n        }\n        return function () {\n            titleObserver === null || titleObserver === void 0 ? void 0 : titleObserver.disconnect();\n        };\n    }, [pathname]);\n};\nvar ChromeProvider = function (_a) {\n    var children = _a.children;\n    var isMounted = useRef(false);\n    var _b = useState(false), initialRequest = _b[0], setInitialRequest = _b[1];\n    var providerState = useRef();\n    if (!providerState.current) {\n        providerState.current = chromeState();\n    }\n    useLastVisitedLocalStorage(providerState.current);\n    useEffect(function () {\n        isMounted.current = true;\n        if (!initialRequest) {\n            getUserIdentity()\n                .then(function (identity) {\n                var _a;\n                if (isMounted.current) {\n                    (_a = providerState.current) === null || _a === void 0 ? void 0 : _a.setIdentity(identity);\n                    setInitialRequest(true);\n                }\n            })\n                .catch(function (error) {\n                console.error('Unable to initialize ChromeProvider!', error);\n            });\n        }\n        return function () {\n            isMounted.current = false;\n        };\n    }, []);\n    return _jsx(ChromeContext.Provider, { value: providerState.current, children: children });\n};\nexport default ChromeProvider;\n//# sourceMappingURL=ChromeProvider.js.map","import { useContext, useEffect, useReducer } from 'react';\nimport { ChromeContext } from '../ChromeContext';\nimport { UpdateEvents } from '../ChromeProvider';\nvar useLastVisited = function () {\n    var _a = useContext(ChromeContext), subscribe = _a.subscribe, unsubscribe = _a.unsubscribe, getState = _a.getState;\n    var _b = useReducer(function (count) { return count + 1; }, 0), forceRender = _b[1];\n    useEffect(function () {\n        var subsId = subscribe(UpdateEvents.lastVisited, forceRender);\n        return function () {\n            unsubscribe(subsId, UpdateEvents.lastVisited);\n        };\n    }, []);\n    return getState().lastVisitedPages;\n};\nexport default useLastVisited;\n//# sourceMappingURL=useLastVisited.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useContext, useEffect, useReducer } from 'react';\nimport { UpdateEvents } from '../ChromeProvider';\nimport { FAVORITE_PAGE_URL, post } from '../utils/fetch';\nimport ChromeContext from '../ChromeContext/ChromeContext';\nfunction handleFavoritePage(pathname, favorite) {\n    return post(FAVORITE_PAGE_URL, {\n        pathname: pathname,\n        favorite: favorite,\n    });\n}\nvar useFavoritePages = function () {\n    var _a = useContext(ChromeContext), subscribe = _a.subscribe, unsubscribe = _a.unsubscribe, getState = _a.getState, setFavoritePages = _a.setFavoritePages;\n    var _b = useReducer(function (count) { return count + 1; }, 0), forceRender = _b[1];\n    function handleFavoriteAPICall(pathname, favorite) {\n        return __awaiter(this, void 0, void 0, function () {\n            var prevPages, newPages, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        prevPages = getState().favoritePages;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        setFavoritePages(__spreadArray(__spreadArray([], prevPages, true), [{ pathname: pathname, favorite: favorite }], false));\n                        return [4, handleFavoritePage(pathname, favorite)];\n                    case 2:\n                        newPages = _a.sent();\n                        setFavoritePages(newPages);\n                        return [2, newPages];\n                    case 3:\n                        error_1 = _a.sent();\n                        console.error(error_1);\n                        setFavoritePages(prevPages);\n                        return [2, prevPages];\n                    case 4: return [2];\n                }\n            });\n        });\n    }\n    function favoritePage(pathname) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, handleFavoriteAPICall(pathname, true)];\n            });\n        });\n    }\n    function unfavoritePage(pathname) {\n        return handleFavoriteAPICall(pathname, false);\n    }\n    useEffect(function () {\n        var subsId = subscribe(UpdateEvents.favoritePages, forceRender);\n        return function () {\n            unsubscribe(subsId, UpdateEvents.favoritePages);\n        };\n    }, []);\n    return { favoritePages: getState().favoritePages, favoritePage: favoritePage, unfavoritePage: unfavoritePage, initialized: getState().initialized };\n};\nexport default useFavoritePages;\n//# sourceMappingURL=useFavoritePages.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useContext, useEffect, useReducer } from 'react';\nimport { UpdateEvents } from '../ChromeProvider';\nimport { VISITED_BUNDLES_URL, post } from '../utils/fetch';\nimport ChromeContext from '../ChromeContext/ChromeContext';\nfunction handleMarkVisited(bundle) {\n    return post(VISITED_BUNDLES_URL, {\n        bundle: bundle,\n    });\n}\nvar useVisitedBundles = function () {\n    var _a = useContext(ChromeContext), subscribe = _a.subscribe, unsubscribe = _a.unsubscribe, getState = _a.getState, setVisitedBundles = _a.setVisitedBundles;\n    var _b = useReducer(function (count) { return count + 1; }, 0), forceRender = _b[1];\n    function markVisited(bundle) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var shouldMarkVisited, updatedUser;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        shouldMarkVisited = !((_a = getState().visitedBundles) === null || _a === void 0 ? void 0 : _a[bundle]);\n                        if (!shouldMarkVisited) return [3, 2];\n                        return [4, handleMarkVisited(bundle)];\n                    case 1:\n                        updatedUser = _b.sent();\n                        setVisitedBundles(updatedUser.visitedBundles);\n                        return [2, updatedUser.visitedBundles];\n                    case 2: return [2, getState().visitedBundles];\n                }\n            });\n        });\n    }\n    useEffect(function () {\n        var subsId = subscribe(UpdateEvents.visitedBundles, forceRender);\n        return function () {\n            unsubscribe(subsId, UpdateEvents.visitedBundles);\n        };\n    }, []);\n    return { visitedBundles: getState().visitedBundles, markVisited: markVisited, initialized: getState().initialized };\n};\nexport default useVisitedBundles;\n//# sourceMappingURL=useVisitedBundles.js.map","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n"],"names":["createContext","update","setLastVisited","setFavoritePages","subscribe","Symbol","unsubscribe","setIdentity","setVisitedBundles","getState","lastVisitedPages","subscribtions","favoritePages","visitedBundles","initialized","UpdateEvents","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","API_BASE","LAST_VISITED_URL","concat","FAVORITE_PAGE_URL","IDENTITY_URL","VISITED_BUNDLES_URL","fetchWrapper","url","options","_this","fetch","res","clone","_a","_b","_c","ok","headers","get","includes","json","text","post","data","credentials","method","JSON","stringify","LAST_VISITED_FLAG","pathname","title","bundle","children","isMounted","useRef","useState","initialRequest","setInitialRequest","providerState","current","state","lastVisited","Map","event","attributes","updateSubscriptions","size","Array","from","values","forEach","subscriber","onUpdate","pages","userIdentity","flat","sub","id","set","has","delete","console","error","useLocation","scalprum","useScalprum","titleTarget","document","querySelector","useEffect","titleObserver","prevTitle","localStorage","getItem","lastVisited_1","parse","isArray","setItem","MutationObserver","mutations","currentTitle","target","textContent","newTitles","filter","item","unshift","api","chrome","getBundleData","bundleTitle","slice","observe","childList","disconnect","useLastVisitedLocalStorage","identity","catch","Provider","useContext","forceRender","useReducer","count","subsId","__spreadArray","to","pack","ar","l","handleFavoritePage","favorite","handleFavoriteAPICall","prevPages","newPages","error_1","favoritePage","unfavoritePage","handleMarkVisited","markVisited","updatedUser","trimmedEndIndex","reTrimStart","module","exports","string","replace","reWhitespace","index","test","charAt","isObject","now","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","undefined","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","clearTimeout","cancel","flush","root","Date","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary"],"sourceRoot":""}